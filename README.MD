<h1 align = "center">ğŸŒŸLilyGO T-ETH-Series</h1>

<!-- ### PlatformIO Build Status -->
[![Build-T-INTERNET-COM](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-INTERNET-COM.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-INTERNET-COM.yml)
[![Build-T-ETH-POE](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-POE.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-POE.yml)
[![Build-T-ETH-POE-PRO](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-POE-PRO.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-POE-PRO.yml)
[![Build-T-ETH-Lite-ESP32-S3](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-Lite-ESP32-S3.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-Lite-ESP32-S3.yml)
[![Build-T-ETH-Lite-ESP32](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-Lite-ESP32.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-Lite-ESP32.yml)
[![Build-T-ETH-ELite-ESP32-S3](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-ELite-ESP32-S3.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-ELite-ESP32-S3.yml)

<!-- ### Arduino IDE Build Status -->
[![Build-ArduinoIDE-T-INTERNET-COM](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-INTERNET-COM.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-INTERNET-COM.yml)
[![Build-ArduinoIDE-T-ETH-POE](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-POE.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-POE.yml)
[![Build-ArduinoIDE-T-ETH-POE-PRO](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-POE-PRO.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-POE-PRO.yml)
[![Build-ArduinoIDE-T-ETH-Lite-ESP32S3](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-Lite-ESP32S3.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-Lite-ESP32S3.yml)
[![Build-T-ETH-Lite-ESP32](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-Lite-ESP32.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-T-ETH-Lite-ESP32.yml)
[![Build-ArduinoIDE-T-ETH-ELite-ESP32S3](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-ELite-ESP32S3.yml/badge.svg)](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/actions/workflows/Build-ArduinoIDE-T-ETH-ELite-ESP32S3.yml)

<!-- **English | [ä¸­æ–‡](README_CN.MD)** -->

## News:

* For esp-arduino versions lower than [3.0.0](https://github.com/espressif/arduino-esp32/releases/tag/3.0.0-rc1), use ETHClass2 as the driver. For versions higher than [2.x](https://github.com/espressif/arduino-esp32/releases/tag/2.0.15), esp-arduino native ETHClass will be used. It is recommended to use arduino-esp 3.0.0 and above


## Product:

| Product(PinMap)                       | SOC                                   | Flash | PSRAM     | Ethernet | POE      | SDCard |
| ------------------------------------- | ------------------------------------- | ----- | --------- | -------- | -------- | ------ |
| [T-Internet-POE][1]                   | ESP32-WROOM-32                        | 4MB   | âŒ         | LAN8720  | âœ…        | âœ…      |
| [T-POE-PRO][2]                        | ESP32-WROVER-E                        | 16MB  | 8MB(QSPI) | LAN8720  | âœ…        | âŒ      |
| [T-INTER-COM][3]                      | ESP32-WROVER-E                        | 16MB  | 8MB(QSPI) | LAN8720  | âŒ        | âœ…      |
| [T-ETH-Lite-ESP32][4]                 | ESP32-WROVER-E                        | 16MB  | 8MB(QSPI) | RTL8201  | (Option) | âœ…      |
| [T-ETH-Lite-ESP32S3][5]               | ESP32-S3-WROOM-1                      | 16MB  | 8MB(OPI)  | W5500    | (Option) | âœ…      |
| [T-ETH-Lite-POE-Shield][6]            | POE Shield (IEEE802.3 af/Class 0)     |       |           |          |          |        |
| [T-ETH-Lite-ESP32S3-Camera-Shield][6] | Camera Shield (Support OV2640/OV5640) |       |           |          |          |        |
| [T-ETH-ELite-ESP32S3][7]              | ESP32-S3-WROOM-1                      | 16MB  | 8MB(OPI)  | W5500    | âœ…        | âœ…      |

[1]: https://www.lilygo.cc/products/t-internet-poe
[2]: https://www.lilygo.cc/products/t-poe-pro
[3]: https://www.lilygo.cc/products/t-internet-com
[4]: https://www.lilygo.cc/products/t-eth-lite?variant=43120880746677
[5]: https://www.lilygo.cc/products/t-eth-lite?variant=43120880779445
[6]: https://www.lilygo.cc/products/t-eth-lite?variant=43120887038133
[7]: https://www.lilygo.cc/products

## Examples

```bash
examples/
â”œâ”€â”€ UnitTestExample                         # Board function example
â”œâ”€â”€ ETHOTA                                  # Upgrade firmware via Ethernet
â”œâ”€â”€ HelloServer                             # WebServer using ETH
â”œâ”€â”€ SDWebServer                             # SDWebServer using ETH
â”œâ”€â”€ MQTTClient                              # MQTT Example
â”œâ”€â”€ ESPMQTTSClient                          # MQTTS Example
â”œâ”€â”€ StaticIPAddress                         # Example of static IP address
â”œâ”€â”€ UDPClientReceiver                       # UDP Receiver example
â”œâ”€â”€ UDPClientSender                         # UDP Sender example
â”œâ”€â”€ UDPClientReceiverDirectPC               # UDP Receiver, Directly connect to PC using network cable
â”œâ”€â”€ UDPClientSenderDirectPC                 # UDP Sender, Directly connect to PC using network cable
â”œâ”€â”€ AsyncUDPClient                          # Async UDP Client
â”œâ”€â”€ AsyncUDPServer                          # Async UDP Sender
â”œâ”€â”€ WebSocketClient                         # WebSocket Client
â”œâ”€â”€ WebSocketServer                         # WebSocket Server
â”œâ”€â”€ UnitTestExample                         # Hardware test example
â”œâ”€â”€ TCPClient                               # TCP Client
â”œâ”€â”€ TCPServer                               # TCP Server
â”œâ”€â”€ RS485_Master                            # RS485 Sender (ETH-Pro only)
â”œâ”€â”€ RS485_Slave                             # RS485 Receiver (ETH-Pro only)
â”œâ”€â”€ RS485_ModBUS                            # RS485 Modbus Master (ETH-Pro only)
â”œâ”€â”€ TFT_ILI9341_Shield                      # Screen interface example (ETH-Pro/ETH-Lite-ESP32 only)
â”œâ”€â”€ CameraShield                            # Camera shield example (ETH-Lite-ESP32S3 only)
â”œâ”€â”€ LoRaShield                              # LoRa Shield Sender Example (ETH-PRO only)
â”œâ”€â”€ SPIExample                              # SPI initialization example (ETH-PRO only)
â”œâ”€â”€ SPI_Wire_DevicesExample                 # SPI bus & Wire sharing example  (ETH-PRO only)
â”œâ”€â”€ SharingSPIBus                           # SPI bus sharing example
â”œâ”€â”€ InternetComTest                         # T-INTER-COM example (T-INTER-COM only)
â”œâ”€â”€ WireExample                             # Wire initialization example
â”œâ”€â”€ USB_Camera                              # USB camera example (Only ESP32S3)
â”œâ”€â”€ I2C_HP303BSensor                        # External I2C Temperature and Humidity Sensor Example
â”œâ”€â”€ I2C_BME280Sensor                        # External I2C Temperature and Humidity Sensor Example
â”œâ”€â”€ TinyGPS_Example                         # GPS Module example 
â”œâ”€â”€ PCIE_Modem_ATDebug                      # PCIE Modem example
â”œâ”€â”€ ADC_Button                              # ADC button example
â””â”€â”€ T-ETH-ELite-Shield                      # T-ETH-Elite Dedicated examples
    â”œâ”€â”€ LoRa_Receive_Interrupt              # T-ETH-Elite Dedicated examples - LoRa Shield example
    â”œâ”€â”€ LoRa_Transmit_Interrupt             # T-ETH-Elite Dedicated examples - LoRa Shield example
    â”œâ”€â”€ T-ETH-Elite-Gateway-Shield          # T-ETH-Elite Dedicated examples - Gateway Shield test example
    â”œâ”€â”€ T-ETH-Elite-LTE-Shield              # T-ETH-Elite Dedicated examples - LTE Shield test example
    â””â”€â”€ T-ETH-Elite-LoRa-Shield             # T-ETH-Elite Dedicated examples - LoRa Shield factory example
```

| Examples                  | [T-Internet-POE][1] | [T-POE-PRO][2]    | [T-INTER-COM][3] | [T-ETH-Lite-ESP32][4] | [T-ETH-Lite-ESP32S3][5] | [T-ETH-ELite-ESP32S3][5] |
| ------------------------- | ------------------- | ----------------- | ---------------- | --------------------- | ----------------------- | ------------------------ |
| UnitTestExample           | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| ETHOTA                    | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| HelloServer               | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| SDWebServer               | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| MQTTClient                | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| ESPMQTTSClient            | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| StaticIPAddress           | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| UDPClientReceiver         | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| UDPClientSender           | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| UDPClientReceiverDirectPC | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| UDPClientSenderDirectPC   | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| AsyncUDPClient            | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| AsyncUDPServer            | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| WebSocketClient           | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| WebSocketServer           | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| TCPClient                 | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| TCPServer                 | âœ…                   | âœ…                 | âœ…                | âœ…                     | âœ…                       | âœ…                        |
| InternetComTest           | âŒ   (Can't run)     | âŒ   (Can't run)   | âœ…                | âŒ   (Can't run)       | âŒ   (Can't run)         | âŒ   (Can't run)          |
| RS485_Master              | âŒ   (Not adapted)   | âœ…                 | âŒ   (Can't run)  | âŒ   (Not adapted)     | âŒ   (Not adapted)       | âŒ   (Not adapted)        |
| RS485_Slave               | âŒ   (Not adapted)   | âœ…                 | âŒ   (Can't run)  | âŒ   (Not adapted)     | âŒ   (Not adapted)       | âŒ   (Not adapted)        |
| RS485_ModBUS              | âŒ   (Not adapted)   | âœ…                 | âŒ   (Can't run)  | âŒ   (Not adapted)     | âŒ   (Not adapted)       | âŒ   (Not adapted)        |
| TFT_ILI9341_Shield        | âŒ   (Can't run)     | âœ…                 | âŒ   (Can't run)  | âœ…                     | âŒ   (Not adapted)       | âŒ   (Not adapted)        |
| CameraShield              | âŒ   (Can't run)     | âŒ   (Can't run)   | âŒ   (Can't run)  | âŒ   (Can't run)       | âœ…                       | âœ…                        |
| LoRaShield                | âœ…                   | âŒ   (Not adapted) | âŒ   (Can't run)  | âŒ   (Not adapted)     | âŒ   (Not adapted)       | âŒ   (Not adapted)        |
| SPIExample                | âœ…                   | âœ…                 | âŒ   (Can't run)  | âœ…                     | âœ…                       | âœ…                        |
| SPI_Wire_DevicesExample   | âœ…                   | âŒ   (Not adapted) | âŒ   (Can't run)  | âœ…                     | âŒ   (Not adapted)       | âŒ   (Not adapted)        |
| SharingSPIBus             | âœ…                   | âŒ   (Not adapted) | âŒ   (Can't run)  | âŒ   (Not adapted)     | âŒ   (Not adapted)       | âŒ   (Not adapted)        |
| WireExample               | âœ…                   | âœ…                 | âŒ   (Can't run)  | âœ…                     | âœ…                       | âœ…                        |
| USB_Camera                | âŒ   (Can't run)     | âŒ   (Can't run)   | âŒ   (Can't run)  | âŒ   (Can't run)       | âœ…                       | âœ…                        |
| I2C_HP303BSensor          | âœ…                   | âœ…                 | âŒ   (Can't run)  | âœ…                     | âœ…                       | âœ…                        |
| TinyGPS_Example           | âœ…                   | âœ…                 | âŒ   (Can't run)  | âœ…                     | âœ…                       | âœ…                        |
| PCIE_Modem_ATDebug        | âŒ   (Not adapted)   | âŒ   (Not adapted) | âœ…                | âŒ   (Not adapted)     | âœ…                       | âœ…                        |
| ADC_Button                | âœ…                   | âœ…                 | âŒ   (Can't run)  | âœ…                     | âœ…                       | âœ…                        |

## 1ï¸âƒ£ PlatformIO Quick Start <Recommended>

1. Install [Visual Studio Code](https://code.visualstudio.com/) and [Python](https://www.python.org/)
2. Search for the `PlatformIO` plugin in the `VisualStudioCode` extension and install it.
3. After the installation is complete, you need to restart `VisualStudioCode`
4. After restarting `VisualStudioCode`, select `File` in the upper left corner of `VisualStudioCode` -> `Open Folder` -> select the `LilyGO T-ETH-Series` directory
5. Wait for the installation of third-party dependent libraries to complete
6. Click on the `platformio.ini` file, and in the `platformio` column
7. First change the default_envs to the board used
8. Uncomment one of the lines src_dir = xxxx to make sure only one line works
9. Click the (âœ”) symbol in the lower left corner to compile
10. Connect the board to the computer USB (If there is no onboard downloader, USB2TTL must be connected)
11. Click (â†’) to upload firmware
12. Click (plug symbol) to monitor serial output
13. Since **T-LITE-ESP32** uses **IO0** as the clock input, the default working level of **DTR** is high level, so after the download is completed, you need to remove the connection between **DTR** and **IO0**, so that ETH will work, otherwise the initialization will fail
14. For **T-LITE-ESP32**, when uploading a sketch, you need to press and hold the *BOOT* button to run the upload


## 2ï¸âƒ£ Arduino IDE Quick Start
* It is recommended to use platformio without cumbersome steps
1. Install [Arduino IDE](https://www.arduino.cc/en/software)
2. Install [Arduino ESP32](https://docs.espressif.com/projects/arduino-esp32/en/latest/)
3. Copy everything from this repository [lib folder](./lib/)  to Arduino library folder (e.g. C:\Users\YourName\Documents\Arduino\libraries)
4. Open ArduinoIDE -> Tools
   ![ArduinoIDE](image/ArduinoIDE.jpg)
5. `T-ETH-Elite` options are the same as `T-ETH-Lite`, but you need to adjust `USB CDC On Boot` to `Enabled`
5. Open the [examples](./examples/),such as [examples/UnitTestExample](./examples/UnitTestExample)
6. Switch to the [utilities.h](./examples/UnitTestExample/utilities.h) file, at the top of the sketch, uncomment the definition of the board name you use , such as **LILYGO_T_INTERNET_POE**
7. Connect external [USB2TTL](https://www.amazon.com/usb-ttl-adapter/s?k=usb+to+ttl+adapter)ï¼Œsuch as **CP2102,CP2104,CH340X**
      * Has an onboard downloader(**T-POE-Pro**)
          If the board has a USB-C, plug it directly into the USB-C, select the corresponding port, and upload.
      * no onboard downloader(**T-ETH-Lite-ESP32/T-ETH-Lite-ESP32S3/T-Internet-POE**)
          Additional USB2TTL is required to connect the board with USB2TTL
      * Connection example:


        | USB2TTL(Has DTR,RTS) | USB2TTL(NO DTR,RTS) | T-ETH-Series |
        | -------------------- | ------------------- | ------------ |
        | 5V                   | 5V                  | 5V IN        |
        | GND                  | GND                 | GND          |
        | RX                   | RX                  | TXD          |
        | TX                   | TX                  | RXD          |
        | RTS                  |                     | RST          |
        | DTR                  |                     | IO0          |

     * Connection diagram
  
        ![connect](./image/connect.jpg)

     *  **Note that for boards that are not connected to DTR or RTS, the board must be put into download mode before uploading the sketch, otherwise the sketch cannot be uploaded.How to enter download mode, please see FAQ**
     *  **æ³¨æ„ï¼Œå¯¹äºæ²¡æœ‰è¿æ¥åˆ°DTR,RTS çš„æ¿å­ï¼Œä¸Šä¼ ç¨‹åºä¹‹å‰ï¼Œå¿…é¡»å…ˆå°†æ¿å­ç½®å…¥ä¸‹è½½æ¨¡å¼,å¦åˆ™æ— æ³•ä¸Šä¼ ç¨‹åºï¼Œå¦‚ä½•è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼Œè¯·çœ‹FAQ**


8. Select the corresponding port and click Upload <If the upload fails, View the FAQ below>
9. Since **T-LITE-ESP32** uses **IO0** as the clock input, the default working level of **DTR** is high level, so after the download is completed, you need to remove the connection between **DTR** and **IO0**, so that ETH will work, otherwise the initialization will fail
10. **T-LITE-ESP32** Since the `PHYAD` address is selected as 0, the yellow LINK light will not light up, which does not affect the use.

<h2 align = "left">5ï¸âƒ£ ESP32 basic examples </h2>

* [BLE Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/BLE)
* [WiFi Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/WiFi)
* [SPIFFS Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/SPIFFS)
* [FFat Examples](https://github.com/espressif/arduino-esp32/tree/master/libraries/FFat)
* For more examples of esp32 chip functions, please refer to [arduino-esp32-libraries](https://github.com/espressif/arduino-esp32/tree/master/libraries)

<h2 align = "left">6ï¸âƒ£ FAQ </h2>

1. Unable to upload sketch,Please enter the upload mode manually.
    1. Connect the board via the USB cable or connect USB2TTL
    2. Press and hold the BOOT button , While still pressing the BOOT button, press RST
    3. Release the RST
    4. Finally release the BOOT Button(The BOOT button must be released last)
    5. Upload sketch

2. Unable to verify flash chip connection
    1. Please refer to this [issue #45](https://github.com/Xinyuan-LilyGO/LilyGO-T-ETH-Series/issues/45)

## 7ï¸âƒ£ RESOURCE

* [T-ETH-ELite/Lite POE Module datasheet](./datasheet/ETH-POE-DP9900M-5V.pdf)
* [T-ETH-POR POE Module datasheet](./datasheet/ETH-PRO-POE-DP5300-12V.pdf)
* [Camera model spec](./datasheet/CAMERA_SPEC.png)
